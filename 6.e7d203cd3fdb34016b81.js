(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthModule",function(){return p});var o=n("ofXK"),i=n("tyNb"),s=n("fg3A"),r=n("fXoL"),a=n("IdfO"),c=n("tk/3");let b=(()=>{class t extends a.a{constructor(t){super(t)}login(t){return this.sendPost(this.baseUrl("auth/token/assign"),t)}getProfileInfo(t){return this.sendPost(this.baseUrl("auth/me"),t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c.b))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("E/lG"),g=n("rxq+");function l(t,e){1&t&&(r.Ob(0,"p",9),r.Kb(1,"i",10),r.uc(2," Authenticating "),r.Nb())}new s.a("Login");const f=[{path:"sso/:token",component:(()=>{class t{constructor(t,e,n,o,i){this.route=t,this.router=e,this.authService=n,this.credentialsService=o,this.notifyService=i,this.year=(new Date).getFullYear(),this.isAuthenticating=!0}login(t){this.authService.login(t).subscribe(t=>{if(!1===t.error){const e=t.data._token;this.authService.getProfileInfo({_token:e}).subscribe(t=>{let n=t.data.user;n.accessToken=e;const o=Object.assign({},n);this.credentialsService.setCredentials(o),this.router.navigate(["dashboard"])})}},t=>{this.notifyService.publishMessages("Authentication failed, please refresh the page","danger",1)})}ngOnInit(){this.route.paramMap.subscribe(t=>{this.ttbToken=t.get("token"),"logout"===this.ttbToken?this.isAuthenticating=!1:this.login({ttb_token:this.ttbToken})})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(i.a),r.Jb(i.b),r.Jb(b),r.Jb(h.a),r.Jb(g.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-sso-auth"]],decls:18,vars:2,consts:[[1,"container-fluid","main-wrapper"],[1,"row"],[1,"navbar","navbar-expand-lg"],[1,"navbar-brand"],["src","../../../assets/img/svg/landing-logo.svg","alt","Access Bank EDMS"],[1,"row","content"],[1,"col-xs-12","col-md-6","mb-5"],[1,"col-xs-12","col-md-6","text-white"],["class","lead",4,"ngIf"],[1,"lead"],[1,"text-orange","fa","fa-circle-o-notch","fa-spin","fa-fw"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"header",1),r.Ob(2,"nav",2),r.Ob(3,"a",3),r.Kb(4,"img",4),r.Nb(),r.Nb(),r.Nb(),r.Ob(5,"div",5),r.Ob(6,"div",6),r.Ob(7,"h1"),r.uc(8,"Access Bank"),r.Nb(),r.Ob(9,"h2"),r.uc(10,"Documents & Approval Workflow"),r.Kb(11,"br"),r.uc(12,"Management System"),r.Nb(),r.Nb(),r.Ob(13,"div",7),r.tc(14,l,3,0,"p",8),r.Nb(),r.Nb(),r.Ob(15,"footer"),r.Ob(16,"p"),r.uc(17),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(14),r.ec("ngIf",e.isAuthenticating),r.yb(3),r.wc("\xa9 Copyright ",e.year," Access Bank. All Rights Reserved."))},directives:[o.l],styles:[".main-wrapper[_ngcontent-%COMP%]{background:url(landing.3d01f2b45e633be816f7.jpg);min-height:100vh;max-height:100vh;padding:3% 5%}.content[_ngcontent-%COMP%]{margin-top:15vh}h1[_ngcontent-%COMP%]{font-family:Louis George Cafe;font-size:24px;line-height:32px;opacity:.7}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#fff;margin:11px 0}h2[_ngcontent-%COMP%]{font-family:Louis George Cafe Bold;font-size:32px;line-height:48px;letter-spacing:-.04em}footer[_ngcontent-%COMP%]{bottom:0;margin-top:30vh}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:16px;text-align:center;color:#fff}.text-orange[_ngcontent-%COMP%]{color:#fc4e2b}"]}),t})()}];let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[i.f.forChild(f)],i.f]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[o.b,u,i.f]]}),t})()}}]);